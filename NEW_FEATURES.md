# –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–í –ø–ª–∞–≥–∏–Ω –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é:

## 1. üîí –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

### –û–ø–∏—Å–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–§–∞–π–ª**: `lua/core/crypto.lua`
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: XOR cipher + base64 encoding
- **–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**: –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ hostname + username (–º–∞—à–∏–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```lua
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω–æ, –æ—Ç–∫–ª—é—á–∏—Ç—å –º–æ–∂–Ω–æ —Ç–∞–∫:
require('core').setup({
  encrypt_passwords = false,
})
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ü–∞—Ä–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞
- SSH-–∫–ª—é—á–∏ (–ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º) –Ω–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è
- –£–∂–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ
- –ü—Ä–µ—Ñ–∏–∫—Å `encrypted:` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π

---

## 2. üÜï –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SCP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

### –û–ø–∏—Å–∞–Ω–∏–µ
–ù–æ–≤—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SCP (Secure Copy Protocol).

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–§–∞–π–ª**: `lua/sync/scp.lua`
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç rsync –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```toml
[[hosts]]
name = "SCP Server"
type = "scp"
host = "example.com"
port = 22
user = "deploy"
password = "/home/user/.ssh/id_rsa"
path = "/var/www/project"
```

### –§—É–Ω–∫—Ü–∏–∏
- `connect()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ SSH
- `upload()` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- `download()` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- `list()` - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `sync()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—á–µ—Ä–µ–∑ rsync)
- `upload_batch()` - –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

---

## 3. üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (Diff)

### –û–ø–∏—Å–∞–Ω–∏–µ
–ú–æ–¥—É–ª—å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–§–∞–π–ª**: `lua/core/diff.lua`
- **–ú–µ—Ç–æ–¥—ã**: Split view diff, floating window preview, checksum comparison

### –ö–æ–º–∞–Ω–¥—ã
```vim
:RemoteDiff           " –û—Ç–∫—Ä—ã—Ç—å split view —Å diff
:RemoteDiffPreview    " –ü–æ–∫–∞–∑–∞—Ç—å diff –≤ –ø–ª–∞–≤–∞—é—â–µ–º –æ–∫–Ω–µ
```

### –§—É–Ω–∫—Ü–∏–∏
- **diff_current_file()** - –°—Ä–∞–≤–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª —Å —É–¥–∞–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
- **diff_files()** - –°—Ä–∞–≤–Ω–∏—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **show_diff_preview()** - –ü–æ–∫–∞–∑–∞—Ç—å unified diff –≤ floating window
- **files_differ()** - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–∏–π (md5 checksums)
- **get_diff_stats()** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **three_way_merge()** - –¢—Ä—ë—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π merge (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```vim
" –°—Ä–∞–≤–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª
:RemoteDiff

" –ò–ª–∏ –≤ –ø–ª–∞–≤–∞—é—â–µ–º –æ–∫–Ω–µ
:RemoteDiffPreview

" –ó–∞–∫—Ä—ã—Ç—å –ø–ª–∞–≤–∞—é—â–µ–µ –æ–∫–Ω–æ: q –∏–ª–∏ <Esc>
```

---

## 4. üëÅÔ∏è –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### –û–ø–∏—Å–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤ –∏ –∏—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–§–∞–π–ª**: `lua/core/watcher.lua`
- **–ú–µ—Ç–æ–¥—ã**: Timer-based polling, libuv fs_event watcher
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2000ms)

### –ö–æ–º–∞–Ω–¥—ã
```vim
:RemoteWatchStart [interval]    " –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
:RemoteWatchStop                " –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
:RemoteWatchToggle [interval]   " –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
:RemoteWatchStatus              " –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
```

### –§—É–Ω–∫—Ü–∏–∏

#### Timer-based Watcher
- **start()** - –ó–∞–ø—É—Å–∫ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **stop()** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **toggle()** - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **is_running()** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- **get_stats()** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### Filesystem Event Watcher (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- **start_fs_watch()** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç libuv fs_event –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **stop_fs_watch()** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ fs watcher

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```vim
" –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (2 —Å–µ–∫—É–Ω–¥—ã)
:RemoteWatchStart

" –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 5 —Å–µ–∫—É–Ω–¥
:RemoteWatchStart 5000

" –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
:RemoteWatchStatus

" –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
:RemoteWatchStop
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ `excludes_local`
- –û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
remote_hosts_sync/
‚îú‚îÄ‚îÄ lua/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.lua       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.lua     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.lua      # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crypto.lua     # üîí –ù–û–í–û–ï: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diff.lua       # üìä –ù–û–í–û–ï: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ watcher.lua    # üëÅÔ∏è –ù–û–í–û–ï: –§–æ–Ω–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ sync/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manager.lua    # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sftp.lua       # SFTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ftp.lua        # FTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rsync.lua      # Rsync –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scp.lua        # üÜï –ù–û–í–û–ï: SCP –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ tui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hosts.lua      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tree.lua       # –î–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ commands.lua       # –ö–æ–º–∞–Ω–¥—ã (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)
‚îú‚îÄ‚îÄ plugin/
‚îÇ   ‚îî‚îÄ‚îÄ remote_hosts_sync.lua
‚îú‚îÄ‚îÄ README.md              # –û–±–Ω–æ–≤–ª—ë–Ω
‚îú‚îÄ‚îÄ QUICKSTART.md
‚îú‚îÄ‚îÄ DEVELOPMENT.md
‚îú‚îÄ‚îÄ CHANGELOG.md           # –ù–û–í–û–ï
‚îú‚îÄ‚îÄ NEW_FEATURES.md        # –ù–û–í–û–ï (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ .remote_hosts_sync.toml.example
```

---

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–í—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ù–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- ‚úÖ –°—Ç–∞—Ä—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (SFTP, FTP, rsync) —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞

### SCP
- –°—Ä–∞–≤–Ω–∏–º–æ —Å SFTP –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏
- –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### Diff
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Watcher
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–≥—Ä—É–∑–∫–∏
- –û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π libuv fs_event –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚ö†Ô∏è **–ë–∞–∑–æ–≤–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: XOR + base64 (–Ω–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–æ–µ)
- üîë **–ú–∞—à–∏–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–ª—é—á**: –ö–æ–Ω—Ñ–∏–≥ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–º –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏
- ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH-–∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π

### –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (SSH)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è

---

## –ü—Ä–∏–º–µ—Ä—ã workflow

### 1. –ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å diff
```vim
" –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
:e myfile.lua

" –°—Ä–∞–≤–Ω–∏—Ç—å —Å —É–¥–∞–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
:RemoteDiff

" –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —É–¥–∞–ª—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:
" - –í split view: –ø–µ—Ä–µ–π—Ç–∏ –≤ –±—É—Ñ–µ—Ä —Å Remote: —Ñ–∞–π–ª–æ–º
" - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
" - –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ: :RemoteDownload
```

### 2. –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```vim
" –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ö–æ—Å—Ç—É
:RemoteHosts

" –ó–∞–ø—É—Å—Ç–∏—Ç—å watcher
:RemoteWatchStart

" –¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
" –†–∞–±–æ—Ç–∞–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ - —Ñ–∞–π–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ

" –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
:RemoteWatchStatus

" –ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç–µ
:RemoteWatchStop
```

### 3. –†–∞–±–æ—Ç–∞ —Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
```vim
" –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ö–æ—Å—Ç —Å –ø–∞—Ä–æ–ª–µ–º
:RemoteAddHost

" –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ:
password = "mypassword"

" –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª
:w

" –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–µ –ø–∞—Ä–æ–ª—å –±—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω:
password = "encrypted:SGVsbG8gV29ybGQh..."

" –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ!
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

‚úÖ 1. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–Ω—Ñ–∏–≥  
‚úÖ 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SCP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞  
‚úÖ 3. Diff –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π  
‚úÖ 4. –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º  

–ü–ª–∞–≥–∏–Ω –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
